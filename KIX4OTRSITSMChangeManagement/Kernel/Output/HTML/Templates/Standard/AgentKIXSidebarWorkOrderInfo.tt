# --
# AgentKIXSidebarWorkOrderInfo.dtl - provides HTML to show WorkOrderInfo in KIXSidebar
# Copyright (C) 2006-2016 c.a.p.e. IT GmbH, http://www.cape-it.de
#
# written/edited by:
# * Dorothea(dot)Doerffel(at)cape(dash)it(dot)de
# * Rene(dot)Boehm(at)cape(dash)it(dot)de
#
# --
# $Id$
# --
# This software comes with ABSOLUTELY NO WARRANTY. For details, see
# the enclosed file COPYING for license information (AGPL). If you
# did not receive this file, see http://www.gnu.org/licenses/agpl.txt.
# --

<div class="WidgetSimple CanDrag Expanded">
    <div class="Header">
        <div class="WidgetAction Toggle">
            <a title="[% Translate("Show or hide the content") | html %]" href="#" id="KIXSidebarWorkOrderInfoBlockOpen" aria-controls="Core_UI_AutogeneratedID_0" aria-expanded="false">
                <i class="fa fa-caret-right"></i>
                <i class="fa fa-caret-down"></i>
            </a>
        </div>
        <h2>[% Translate(Data.Title) | html %]</h2>
    </div>
    <div class="Content">
[% RenderBlockStart("Meta") %]
                    <fieldset class="TableLike FixedLabelSmall">
                        <label>[% Translate("WorkOrderState") | html %]:</label>
                        <div class="Value">
                            <div class="Flag Small">
                                <span class="[% Data.WorkOrderStateSignal | html %]">[% Translate(Data.WorkOrderState) | html %]</span>
                            </div>
                            [% Translate(Data.WorkOrderState) | html %]
                        </div>
                        <div class="Clear"></div>

                        <label>[% Translate("WorkOrderType") | html %]:</label>
[% RenderBlockStart("EmptyWorkOrderType") %]
                        <p class="Value" title="-">-</p>
[% RenderBlockEnd("EmptyWorkOrderType") %]
[% RenderBlockStart("WorkOrderType") %]
                        <p class="Value">[% Data.WorkOrderType | html %]</p>
[% RenderBlockEnd("WorkOrderType") %]
                        <div class="Clear"></div>
                    </fieldset>

                    <fieldset class="TableLike FixedLabelSmall">
                        <label>[% Translate("PlannedStartTime") | html %]:</label>
[% RenderBlockStart("EmptyPlannedStartTime") %]
                        <p class="Value" title="-">-</p>
[% RenderBlockEnd("EmptyPlannedStartTime") %]
[% RenderBlockStart("PlannedStartTime") %]
                        <p class="Value">[% Data.PlannedStartTime | Localize("TimeLong") %]</p>
[% RenderBlockEnd("PlannedStartTime") %]
                        <div class="Clear"></div>


                        <label>[% Translate("PlannedEndTime") | html %]: </label>
[% RenderBlockStart("EmptyPlannedEndTime") %]
                        <p class="Value" title="-">-</p>
[% RenderBlockEnd("EmptyPlannedEndTime") %]
[% RenderBlockStart("PlannedEndTime") %]
                        <p class="Value">[% Data.PlannedEndTime | Localize("TimeLong") %]</p>
[% RenderBlockEnd("PlannedEndTime") %]
                        <div class="Clear"></div>

                        <label>[% Translate("ActualStartTime") | html %]: </label>
[% RenderBlockStart("EmptyActualStartTime") %]
                        <p class="Value" title="-">-</p>
[% RenderBlockEnd("EmptyActualStartTime") %]
[% RenderBlockStart("ActualStartTime") %]
                        <p class="Value">[% Data.ActualStartTime | Localize("TimeLong") %]</p>
[% RenderBlockEnd("ActualStartTime") %]
                        <div class="Clear"></div>

                        <label>[% Translate("ActualEndTime") | html %]: </label>
[% RenderBlockStart("EmptyActualEndTime") %]
                        <p class="Value" title="-">-</p>
[% RenderBlockEnd("EmptyActualEndTime") %]
[% RenderBlockStart("ActualEndTime") %]
                        <p class="Value">[% Data.ActualEndTime | Localize("TimeLong") %]</p>
[% RenderBlockEnd("ActualEndTime") %]
                        <div class="Clear"></div>
                    </fieldset>

                    <fieldset class="TableLike FixedLabelSmall">
[% RenderBlockStart("ShowPlannedEffort") %]
                        <label>[% Translate("PlannedEffort") | html %]: </label>
[% RenderBlockStart("EmptyPlannedEffort") %]
                        <p class="Value" title="-">-</p>
[% RenderBlockEnd("EmptyPlannedEffort") %]
[% RenderBlockStart("PlannedEffort") %]
                        <p class="Value">[% Data.PlannedEffort | html %]</p>
[% RenderBlockEnd("PlannedEffort") %]
                        <div class="Clear"></div>
[% RenderBlockEnd("ShowPlannedEffort") %]

[% RenderBlockStart("ShowAccountedTime") %]
                        <label>[% Translate("AccountedTime") | html %]: </label>
[% RenderBlockStart("EmptyAccountedTime") %]
                        <p class="Value" title="-">-</p>
[% RenderBlockEnd("EmptyAccountedTime") %]
[% RenderBlockStart("AccountedTime") %]
                        <p class="Value">[% Data.AccountedTime | html %]</p>
[% RenderBlockEnd("AccountedTime") %]
                        <div class="Clear"></div>
[% RenderBlockEnd("ShowAccountedTime") %]
                    </fieldset>

# show dynamic fields
                    <fieldset class="TableLike FixedLabelSmall Narrow">
[% RenderBlockStart("DynamicField") %]
                        <label>[% Translate(Data.Label) | html %]:</label>
                        <p class="Value">
[% RenderBlockStart("DynamicFieldLink") %]
                            <span title="[% Data.Title | html %]"><a href="[% Data.Link | Interpolate %]" target="_blank" class="DynamicFieldLink">[% Data.Value %]</a></span>
[% RenderBlockEnd("DynamicFieldLink") %]
[% RenderBlockStart("DynamicFieldPlain") %]
                            <span title="[% Data.Title | html %]">[% Data.Value %]</span>
[% RenderBlockEnd("DynamicFieldPlain") %]
                        </p>
                        <div class="Clear"></div>
[% RenderBlockEnd("DynamicField") %]
                    </fieldset>

# example of how to use fixed dynamic field blocks for customizations
# Note: Field1 and Field2 are the names of the fields and had to be replaced with the actual
# field names
#                    <fieldset class="TableLike FixedLabelSmall Narrow">
#[% RenderBlockStart("DynamicField_Field1") %]
#                        <label>[% Translate(Data.Label) | html %]:</label>
#                        <p class="Value">
#[% RenderBlockStart("DynamicField_Field1_Link") %]
#                            <span title="[% Data.Title | html %]"><a href="[% Data.Link %]" target="_blank">[% Data.Value %]</a></span>
#[% RenderBlockEnd("DynamicField_Field1_Link") %]
#[% RenderBlockStart("DynamicField_Field1_Plain") %]
#                            <span title="[% Data.Title | html %]">[% Data.Value %]</span>
#[% RenderBlockEnd("DynamicField_Field1_Plain") %]
#                        </p>
#[% RenderBlockEnd("DynamicField_Field1") %]
#                    </fieldset>
#                    <fieldset class="TableLike FixedLabelSmall Narrow">
#[% RenderBlockStart("DynamicField_Field2") %]
#                        <label>[% Translate(Data.Label) | html %]:</label>
#                        <p class="Value">
#[% RenderBlockStart("DynamicField_Field2_Link") %]
#                            <span title="[% Data.Title | html %]"><a href="[% Data.Link %]" target="_blank">[% Data.Value %]</a></span>
#[% RenderBlockEnd("DynamicField_Field2_Link") %]
#[% RenderBlockStart("DynamicField_Field2_Plain") %]
#                            <span title="[% Data.Title | html %]">[% Data.Value %]</span>
#[% RenderBlockEnd("DynamicField_Field2_Plain") %]
#                        </p>
#[% RenderBlockEnd("DynamicField_Field2") %]
#                    </fieldset>

                    <fieldset class="TableLike FixedLabelSmall">
                        <label>[% Translate("Change Builder") | html %]:</label>
[% RenderBlockStart("EmptyChangeBuilder") %]
                        <p class="Value" title="-">-</p>
[% RenderBlockEnd("EmptyChangeBuilder") %]
[% RenderBlockStart("ChangeBuilder") %]
                        <p class="Value" title="[% Data.ChangeBuilderUserLogin | html %] ([% Data.ChangeBuilderUserFirstname | html %] [% Data.ChangeBuilderUserLastname | html %])">
                            [% Data.ChangeBuilderUserLogin | truncate(15) | html %] ([% Data.ChangeBuilderUserFirstname | html %] [% Data.ChangeBuilderUserLastname | html %])
                        </p>
[% RenderBlockEnd("ChangeBuilder") %]
                        <div class="Clear"></div>
                    </fieldset>

                    <fieldset class="TableLike FixedLabelSmall">
                        <label>[% Translate("WorkOrderAgent") | html %]:</label>
[% RenderBlockStart("EmptyWorkOrderAgent") %]
                        <p class="Value" title="-">-</p>
[% RenderBlockEnd("EmptyWorkOrderAgent") %]
[% RenderBlockStart("WorkOrderAgent") %]
                        <p class="Value" title="[% Data.WorkOrderAgentUserLogin | html %] ([% Data.WorkOrderAgentUserFirstname | html %] [% Data.WorkOrderAgentUserLastname | html %])">
                            [% Data.WorkOrderAgentUserLogin | truncate(15) | html %] ([% Data.WorkOrderAgentUserFirstname | html %] [% Data.WorkOrderAgentUserLastname | html %])
                        </p>
[% RenderBlockEnd("WorkOrderAgent") %]
                        <div class="Clear"></div>
                    </fieldset>

                    <fieldset class="TableLike FixedLabelSmall">
                        <label>[% Translate("Created") | html %]:</label>
                        <p class="Value">[% Data.CreateTime | Localize("TimeLong") %]</p>
                        <div class="Clear"></div>

                        <label>[% Translate("Created by") | html %]:</label>
                        <p class="Value" title="[% Data.CreateUserLogin | html %] ([% Data.CreateUserFirstname | html %] [% Data.CreateUserLastname | html %])">
                            [% Data.CreateUserLogin | truncate(15) | html %] ([% Data.CreateUserFirstname | html %] [% Data.CreateUserLastname | html %])
                        </p>
                        <div class="Clear"></div>
                    </fieldset>

                    <fieldset class="TableLike FixedLabelSmall">
                        <label>[% Translate("Last changed") | html %]:</label>
                        <p class="Value">[% Data.ChangeTime | Localize("TimeLong") %]</p>
                        <div class="Clear"></div>

                        <label>[% Translate("Last changed by") | html %]:</label>
                        <p class="Value" title="[% Data.ChangeUserLogin | html %] ([% Data.ChangeUserFirstname | html %] [% Data.ChangeUserLastname | html %])">
                            [% Data.ChangeUserLogin | truncate(15) | html %] ([% Data.ChangeUserFirstname | html %] [% Data.ChangeUserLastname | html %])
                        </p>
                        <div class="Clear"></div>

[% RenderBlockStart("LinkTableSimple") %]
                        [% Data.LinkTableStrg %]
[% RenderBlockEnd("LinkTableSimple") %]
                    </fieldset>
                </div>
[% RenderBlockEnd("Meta") %]
</div>